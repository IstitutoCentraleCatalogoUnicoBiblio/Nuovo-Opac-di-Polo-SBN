"use strict";angular.module("angular-cookie-law",[]),angular.module("angular-cookie-law").value("cookieLawName","_cle").value("cookieLawAccepted","accepted").value("cookieLawDeclined","declined"),angular.module("angular-cookie-law").directive("cookieLawBanner",["$compile","CookieLawService",function(e,c){return{restrict:"EA",replace:!0,scope:{position:"@",message:"@",acceptText:"@",declineText:"@",policyText:"@",policyURL:"@",acceptButton:"@",declineButton:"@",policyButton:"@",policyBlank:"@",expireDays:"@",element:"@"},link:function(o,t,n){var i,a,l,r="",s="",u="";o.$watchGroup(["position","message","acceptText","declineText","policyText","policyURL","acceptButton","declineButton","policyButton","policyBlank","expireDays","element"],function(){c.isEnabled()||(a={position:"bottom"===n.position?"bottom":"top",message:n.message||"We use cookies to track usage and preferences.",acceptButton:"false"!==n.acceptButton,acceptText:n.acceptText||"I Understand",declineButton:n.declineButton||!1,declineText:n.declineText||"Disable Cookies",policyButton:n.policyButton||!1,policyText:n.policyText||"Privacy Policy",policyURL:n.policyUrl||"/privacy-policy/",policyBlank:n.policyBlank&&"true"===n.policyBlank?'target="_blank"':"",expireDays:n.expireDays||365,element:n.element||"body"},(l=new Date).setTime(l.getTime()+24*a.expireDays*60*60*1e3),l=l.toGMTString(),a.acceptButton&&(r='<a href="" class="cl-accept" ng-click="accept()">{{"cookies_accept" | translate}}</a>'),a.declineButton&&(s=' <a href="" class="cl-disable" ng-click="decline()">'+a.declineText+"</a>"),a.policyButton&&(u=' <a href="'+a.policyURL+'" class="cl-policy" '+a.policyBlank+">"+a.policyText+"</a>"),i='<div class="cl-banner '+a.position+'"><p>'+a.message+r+s+u+"</p></div>",t.html(i),e(t.contents())(o),o.accept=function(){c.accept(l),o.onAccept(),t.remove(),o.onDismiss()},o.decline=function(){c.decline(l),o.onDecline(),t.remove(),o.onDismiss()})})},controller:["$rootScope","$scope",function(e,c){c.onAccept=function(){e.$broadcast("cookieLaw.accept")},c.onDismiss=function(){e.$broadcast("cookieLaw.dismiss")},c.onDecline=function(){e.$broadcast("cookieLaw.decline")}}]}}]),angular.module("angular-cookie-law").directive("cookieLawWait",["CookieLawService",function(e){return{priority:1,terminal:!0,restrict:"EA",replace:!0,template:"<span ng-transclude></span>",transclude:!0,scope:!1,link:function(c,o,t,n,i){function a(){o.html(""),i(c,function(e){o.html(""),o.append(e)})}e.isEnabled()&&a(),c.$on("cookieLaw.accept",function(){a()})}}}]),angular.module("angular-cookie-law").factory("CookieLawService",["CookieService","cookieLawName","cookieLawAccepted","cookieLawDeclined",function(e,c,o,t){return{accept:function(t){e.set(c,o+";expires="+t)},decline:function(o){e.set(c,t+";expires="+o)},isEnabled:function(){return e.get(c)===o||e.get(c)===t},isAccepted:function(){return e.get(c)===o},isDeclined:function(){return e.get(c)===t}}}]),angular.module("angular-cookie-law").factory("CookieService",function(){return{get:function(e){return function(e){for(var c=e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var n=o[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(c))return n.substring(c.length,n.length)}return null}(e)},set:function(e,c){document.cookie=e+"="+c}}});